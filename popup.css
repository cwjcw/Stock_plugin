document.getElementById('getData').addEventListener('click', function() {
    let ticker = document.getElementById('ticker').value;
    fetchStockData(ticker);
  });
  
  function fetchStockData(ticker) {
    const apiKey = 'YOUR_API_KEY'; // 替换为您的API密钥
    const url = `https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${ticker}&interval=5min&apikey=${apiKey}`;
    
    fetch(url)
      .then(response => response.json())
      .then(data => {
        displayData(data);
      })
      .catch(error => {
        console.error('Error fetching data:', error);
        document.getElementById('result').innerText = 'Error fetching data.';
      });
  }
  
  function displayData(data) {
    if (data['Error Message']) {
      document.getElementById('result').innerText = 'Invalid ticker symbol.';
    } else {
      let timeSeries = data['Time Series (5min)'];
      let latestTime = Object.keys(timeSeries)[0];
      let latestData = timeSeries[latestTime];
      let result = `
        <p><strong>${data['Meta Data']['2. Symbol']} - ${latestTime}</strong></p>
        <p>Open: ${latestData['1. open']}</p>
        <p>High: ${latestData['2. high']}</p>
        <p>Low: ${latestData['3. low']}</p>
        <p>Close: ${latestData['4. close']}</p>
        <p>Volume: ${latestData['5. volume']}</p>
      `;
      document.getElementById('result').innerHTML = result;
    }
  }
  